{
  "name": "Arduino-buzz",
  "tagline": "AC/static electricity-based motion detection using only the ADC and a wire!",
  "body": "![#Arduino Buzz Library](http://i.imgur.com/1mIkcUy.jpg)\r\n\r\n**Arduino just got motion detection - with nothing but a wire!**\r\n\r\n**[VIDEO DEMONSTRATION](https://www.youtube.com/watch?v=4KjB-HMuUs4)**\r\n\r\nBy monitoring the amplitude of AC electricity waveforms in the air for changes, Buzz provides motion detection using only a wire! It's extremely easy to implement, and a perfect library for all experience levels.\r\n\r\n----------\r\n# Disclaimer\r\n\r\nThe Buzz library is just for experimental use only, and is **not** intended for providing a home/business security solution.\r\n\r\n----------\r\n# Contents\r\n- [Explanation](#explanation)\r\n- [Installation](#installation)\r\n- [Usage](#usage)\r\n- [Functions](#functions)\r\n- [Limitations](#limitations)\r\n- [Contributing](#contributing)\r\n- [License and credits](#license-and-credits)\r\n\r\n----------\r\n# Explanation\r\n\r\nDue to the ATMega328p's ADC being very high impedance, it can easily detect the AC electricity waves that leak into the air via open outlets, bad shielding, and more.\r\n\r\nWhen something statically charged (human, pet, blanket, etc.) passes near the antenna, it increases or decreases the voltage perceived at the input. Even without rubbing a balloon on your head, you'll always have enough static charge to affect this value a measurable amount.\r\n\r\nThe Buzz library allows you to easily monitor these changes, and attach your own functions that will execute when motion exceeds a specified threshold.\r\n\r\n----------\r\n# Installation\r\n\r\n~~With Arduino Library Manager:~~ **Coming soon!**\r\n\r\n~~1. Open *Sketch > Include Library > Manage Libraries* in the Arduino IDE.~~\r\n\r\n~~2. Search for \"Buzz\", (look for \"Connor Nishijima\") and select the latest version.~~\r\n\r\n~~3. Click the Install button and Arduino will prepare the library and examples for you!~~\r\n\r\n**Manual Install:**\r\n\r\n1. Click \"Clone or Download\" above to get an \"arduino-buzz-master.zip\" file.\r\n2. Extract it's contents to the libraries folder in your sketchbook.\r\n3. Rename the folder from \"arduino-buzz-master\" to \"Buzz\".\r\n\r\n----------\r\n# Usage\r\n\r\nUsing the Buzz library is very simple, you only need the following to get started:\r\n\r\n    #include \"Buzz.h\" // Include the Volume library\r\n    Buzz buzz;\r\n\r\n    void setup() {\r\n      Serial.begin(115200);\r\n      buzz.begin(A0,60,3000);\r\n    }\r\n    void loop() {\r\n      Serial.println(buzz.level());\r\n      delay(1);\r\n    }\r\n\r\nNext, connect a wire/jumper (6-12\") to pin A0, and open the Arduino IDE's Serial Plotter to see the current motion value! Try waving your hand near the antenna, or walking past it.\r\n\r\n----------\r\n# Functions\r\n\r\n**Buzz buzz**;\r\n\r\nThis initializes the Buzz library after import. \"buzz\" can be any word you want, as long as it's reflected in the rest of your code.\r\n\r\n**buzz.begin**(byte **pin**, byte **hz**, unsigned int **coolDown**);\r\n\r\nThis sets up a Timer Compare Interrupt on Timer1 for logging motion changes. It watches the ADC input defined by **pin**, does phase cancellation for **hz** AC to remove sine-wave artifacts from the data, and waits for **coolDown** milliseconds for the ADC to stabilize before triggering any alarms.\r\n\r\n**buzz.end**();\r\n\r\nThis clears the Timer1 ISR that checks motion, essentially stopping all Buzz execution.\r\n\r\n**buzz.level**();\r\n\r\nReturns the current motion level as a signed integer, with a minor motion giving a value of ~10, and more major motions returning ~100 or more.\r\n\r\n`buzz.level()` can be both positive or negative depending on if the motion was towards the antenna or away from it! Use `abs(buzz.level())` to get all values as positive.\r\n\r\n**buzz.setAlarm**(void **action**, unsigned int **threshold**, unsigned int **hold**);\r\n\r\nUsed to set the user-provided function as the callback for an alarm trigger. If motion is >= to **threshold**, and an alarm hasn't been triggered for **hold** milliseconds, the function **action** will be called. If the function you wrote is this helloWorld() demo:\r\n\r\n\tvoid helloWorld(){\r\n      Serial.println(\"Hello world!\");\r\n    }\r\n\r\nYou would write `setAlarm()` like this:\r\n\r\n\tbuzz.setAlarm(helloWorld, 20, 500);\r\n    \r\nA current limitation is that arguments/parameters cannot be passed to the alarm function, and the function can't return data either - though a workaround is to set those values in global variables and read them wherever else your need to, inside or outside the alarm function. See [Limitations](#limitations).\r\n\r\n**buzz.checkAlarm**();\r\n\r\nThis is used to see if the alarm flag has been set by Buzz. This function should be called as often as possible, and your code should avoid blocking functions like delay(). If the flag has been set true by motion exceding your custom threshold, the function defined in setAlarm() will be called.\r\n\r\n**buzz.printData**()\r\n\r\nThis renders a graph to the Arduino IDE Serial Plotter containing current motion levels, your threshold for alarm, and marks when alarms were triggered. Nothing will appear in the plotter until the **coolDown** from `buzz.begin()` has passed.\r\n\r\n----------\r\n# Limitations\r\nUnfortunately, a solution this simple has it's caveats:\r\n\r\n**Buzz is susceptable to false positives:**\r\n\r\nBecause we're relying on AC and static electricity for our readings, it's trivial to cause interference to the input by turning on power appliances nearby, or picking up local lighting strikes. (Though the latter is a cool use as well!)\r\n\r\n**Buzz loves cats:**\r\n\r\nWhile a human like yourself always has enough static charge to cause a measurable shift in ADC voltage, cats are covered in electron-loving fur. It's much more sensitive to them! A solution is to make your cat wear an anti-static soldering strap at all times, but so far I've been unsuccessful in implementing this. We're working on it.\r\n\r\n**Phase cancellation has only been tested with 60Hz AC**\r\n\r\nWhile it shouldn't make a huge difference without it, the phase cancellation has been **tested** for 60Hz AC, and **calculated** for 50Hz AC. 50Hz users may want to report results back to me if the defaults need changes.\r\n\r\n----------\r\n# Contributing\r\nAny advice or pull requests are welcome! :)\r\n\r\n----------\r\n# License and Credits\r\n**Developed by Connor Nishijima (2016)**\r\n\r\n**Released under the [GPLv3 license](http://www.gnu.org/licenses/gpl-3.0.en.html).**\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}